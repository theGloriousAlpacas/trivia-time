(this["webpackJsonptrivia-app"]=this["webpackJsonptrivia-app"]||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/triviaTimeLogo.aff3404e.png"},32:function(e,t,a){e.exports=a(61)},37:function(e,t,a){},38:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),l=a.n(o),i=(a(37),a(3)),s=a(4),c=a(6),u=a(5),m=(a(38),a(13)),p=a(1),f=a(15),h=a.n(f),v=a(29),y=a.n(v),g=function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("img",{src:y.a,alt:"Trivia Time logo"}),r.a.createElement("h1",null,"Trivia Time"),r.a.createElement("p",null,"Fight your friends in a battle of wits!")))},b=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).questionsSubmit=function(t,a){var n=t;console.log(n);for(var r=a,o=0;o<n.length/3;o++){for(var l=0,i=[];l<3;){var s=3*o+l;i.push(t[s]),l++}r[o].questions=i}e.setState({players:r})},e.state={players:[],category:""},e}return Object(s.a)(a,[{key:"generateQuestions",value:function(e,t){var a=this,n=e.target.value,r=3*t.length;h()({url:"https://opentdb.com/api.php",params:{amount:r,category:n,difficulty:"easy",type:"multiple"}}).then((function(e){var t=e.data.results;console.log("this is the data from the api",t);var n=new DOMParser;t.map((function(e){e.incorrect_answers.forEach((function(t,a){var r=n.parseFromString(t,"text/html").body.textContent;e.incorrect_answers[a]=r}));var t=e.correct_answer,a=n.parseFromString(t,"text/html").body.textContent;e.correct_answer=a})),t.map((function(e){var t=e.question,a=n.parseFromString(t,"text/html").body.textContent;e.question=a})),a.questionsSubmit(t,a.props.playerInfo)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onChange:function(t){e.generateQuestions(t,e.props.playerInfo)}},r.a.createElement("fieldset",null,r.a.createElement("label",{htmlFor:""},"Select Category: "),r.a.createElement("select",null,r.a.createElement("option",{disabled:!0,selected:!0,className:"default"},"Select a Category"),r.a.createElement("option",{value:"9"},"General Knowledge"),r.a.createElement("option",{value:"27"},"Animals"),r.a.createElement("option",{value:"29"},"Comics"),r.a.createElement("option",{value:"11"},"Movies"),r.a.createElement("option",{value:"17"},"Science And Nature"))),r.a.createElement("button",{onClick:function(t){e.props.getPlayerInformation(t,e.state.players)}},"Continue")))}}]),a}(n.Component),d=(n.Component,function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).startQuiz=function(e){e.preventDefault(),n.setState({start:!0}),n.myInterval=setInterval((function(){n.setState({timer:n.state.timer-1})}),1e3)},n.state={timer:5,start:!0},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){0===this.state.timer&&(this.setState({timer:30,start:!1}),clearInterval(),this.props.stopTime())}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Hello this is the Timer"),r.a.createElement("button",{onClick:this.startQuiz},"Start Quiz"),r.a.createElement("p",null,!0===this.state.start?e.state.timer>=15?r.a.createElement("p",{className:"timerOk"},e.state.timer):e.state.timer>=10?r.a.createElement("p",{className:"timerWrapUp"},e.state.timer):r.a.createElement("p",{className:"timerDanger"},e.state.timer):"Time's Up!"))}}]),a}(n.Component)),E=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){e.props.numberOfPlayers(t.target.value)},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement("fieldset",null,r.a.createElement("label",{htmlFor:""},"Number of players: "),r.a.createElement("select",{onChange:this.handleChange},r.a.createElement("option",{value:""},"Number of Players"),r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"))))}}]),a}(n.Component),S=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getAvatars=function(){return["https://avatars.dicebear.com/api/bottts/example.svg?options[colors][]=blue","https://avatars.dicebear.com/api/bottts/example.svg?options[colors][]=red","https://avatars.dicebear.com/api/bottts/example.svg?options[colors][]=yellow","https://avatars.dicebear.com/api/bottts/example.svg?options[colors][]=purple"]},e.updateState=function(t,a){if(t.preventDefault(),0!==a){var n=e.createPlayers(a);e.setState({isShowingAvatars:!0,isShowingSubmit:!0,players:n})}},e.createPlayers=function(t){var a=e.getAvatars(),n=[];a=e.shuffleArray(a);for(var r=0;r<t;r++)n.push({id:(r+1).toString(),img:a[r],name:""});return n},e.shuffleArray=function(e,t){t=t||e.length;for(var a,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),a=e[r-=1],e[r]=e[n],e[n]=a;return e.slice(0,t)},e.handleFormSubmit=function(t){t.preventDefault();for(var a=function(a){var n=t.target[a].id-1,r=t.target[a].value;e.setState((function(e){e.players[n].name=r}))},n=0;n<t.target.length-1;n++)a(n);console.log(e.state.players)},e.generatePlayers=function(){if(e.state.isShowingAvatars){var t=e.state.players;return r.a.createElement("div",null,t.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("img",{src:t.img,alt:""}),r.a.createElement("input",{onChange:e.handleChange,id:t.id}))})))}return r.a.createElement(r.a.Fragment,null)},e.state={players:[],isShowingAvatars:!1,isShowingSubmit:!1},e}return Object(s.a)(a,[{key:"handleNumberOfUsersClicked",value:function(){this.setState({isShowingSubmit:!0})}},{key:"handleSubmitClicked",value:function(e){this.setState({isShowingSubmit:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},this.generatePlayers(),this.state.isShowingAvatars?r.a.createElement("button",{type:"submit",onClick:function(t){return e.props.playerInformation(e.state.players)}},"Submit"):r.a.createElement("button",{type:"button",onClick:function(t){return e.updateState(t,e.props.numberOfPlayers)}},"Click me")))}}]),a}(n.Component),O=a(31),C=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onAnswerClicked=function(t,a){console.log(t,a),console.log(a===t.correct_answer);var n=e.state.currentPlayer,r=e.state.currentQuestion+1;r>2&&(r=0,n+=1),e.setState({currentPlayer:n,currentQuestion:r})},e.shuffleArray=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[a],e[a]=n}},e.showQuestions=function(){if(e.props.players&&e.props.players[0].questions){var t=e.props.players[e.state.currentPlayer];if(!t)return r.a.createElement("div",null,"No player");var a=t.questions[e.state.currentQuestion],n=[].concat(Object(O.a)(a.incorrect_answers),[a.correct_answer]);return e.shuffleArray(n),r.a.createElement("div",null,r.a.createElement("p",null,"Player ",t.name),r.a.createElement("h2",null,"Question ".concat(e.state.currentQuestion+1," : ").concat(a.question)),n.map((function(t){return r.a.createElement("button",{onClick:function(){return e.onAnswerClicked(a,t)}},t)})))}return console.log("Pick your categories"),r.a.createElement(r.a.Fragment,null)},e.stopTime=function(){return e.setState({currentPlayer:e.state.currentPlayer+1,quiz:!1}),r.a.createElement("p",null,"Time is up")},e.showQuiz=function(){e.setState({quiz:!0})},e.state={currentPlayer:0,currentQuestion:0,time:"",quiz:!1},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.showQuiz},"PLAY"),this.state.quiz?this.showQuestions():null,this.state.quiz?r.a.createElement(d,{stopTime:this.stopTime}):null)}}]),a}(n.Component),w=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getNumberOfPlayers=function(t){e.setState({numberOfPlayers:t})},e.getPlayerInformation=function(t){e.setState({players:t,goToCategory:!0})},e.state={players:[],numberOfPlayers:0,goToCategory:!1,goToPlay:!1},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E,{numberOfPlayers:this.getNumberOfPlayers}),r.a.createElement(S,{numberOfPlayers:this.state.numberOfPlayers,playerInformation:this.getPlayerInformation}),!0===this.state.goToCategory?r.a.createElement(b,{playerInfo:this.state.players,getPlayerInformation:this.props.getCategory}):null)}}]),a}(n.Component),P=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).updatedPlayersInformation=function(t,a){t.preventDefault(),e.setState({players:a})},e.handleReset=function(t){t.preventDefault(),e.setState({questions:{},players:[]})},e.getCategory=function(t,a){t.preventDefault(),e.setState({players:a,goToPlay:!0})},e.state={questions:{},players:[],goToPlay:!1},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(m.a,{basename:"/trivia-time"},r.a.createElement("div",{className:"App"},r.a.createElement(g,null),this.state.goToPlay?r.a.createElement(p.a,{to:"/play"}):null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(w,{getCategory:this.getCategory})),r.a.createElement(p.b,{path:"/play",render:function(t){return r.a.createElement(C,{players:e.state.players,title:"Props through render"})}})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.169eba56.chunk.js.map