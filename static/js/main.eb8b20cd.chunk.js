(this["webpackJsonptrivia-app"]=this["webpackJsonptrivia-app"]||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/triviaTimeLogo.44de159f.png"},32:function(e,t,a){e.exports=a(61)},37:function(e,t,a){},38:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(28),s=a.n(o),l=(a(37),a(3)),c=a(4),i=a(6),u=a(5),m=(a(38),a(12)),p=a(1),f=a(15),v=a.n(f),y=a(29),h=a.n(y),d=function(){return n.a.createElement("header",null,n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{className:"headerContainer"},n.a.createElement("img",{src:h.a,className:"logo",alt:"Trivia Time logo"}),n.a.createElement("h1",null,n.a.createElement("span",null,"Fight your friends")," ",n.a.createElement("span",null,"in a battle of wits!")))))},g=a(31),E=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).shuffleArray=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[a],e[a]=r}return e},e.questionsSubmit=function(t,a){var r=t;console.log(r);for(var n=a,o=0;o<r.length/3;o++){for(var s=0,l=[];s<3;){var c=3*o+s;t[c].allAnswers=[].concat(Object(g.a)(t[c].incorrect_answers),[t[c].correct_answer]),t[c].allAnswers=e.shuffleArray(t[c].allAnswers),l.push(t[c]),s++}n[o].questions=l}e.setState({players:n})},e.state={players:[],category:""},e}return Object(c.a)(a,[{key:"generateQuestions",value:function(e,t){var a=this,r=e.target.value,n=3*t.length;v()({url:"https://opentdb.com/api.php",params:{amount:n,category:r,difficulty:"medium",type:"multiple"}}).then((function(e){var t=e.data.results;console.log("this is the data from the api",t);var r=new DOMParser;t.map((function(e){e.incorrect_answers.forEach((function(t,a){var n=r.parseFromString(t,"text/html").body.textContent;e.incorrect_answers[a]=n}));var t=e.correct_answer,a=r.parseFromString(t,"text/html").body.textContent;e.correct_answer=a})),t.map((function(e){var t=e.question,a=r.parseFromString(t,"text/html").body.textContent;e.question=a})),a.questionsSubmit(t,a.props.playerInfo)}))}},{key:"componentDidMount",value:function(){document.querySelector(".categoryContainer").scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"categoryContainer"},n.a.createElement("form",{className:"categoryForm",onChange:function(t){e.generateQuestions(t,e.props.playerInfo)}},n.a.createElement("fieldset",{className:"categoryFieldset"},n.a.createElement("label",{className:"categoryLabel",htmlFor:""},"Select Category: "),n.a.createElement("select",null,n.a.createElement("option",{disabled:!0,selected:!0,className:"default"},"Select a Category"),n.a.createElement("option",{value:"9"},"General Knowledge"),n.a.createElement("option",{value:"27"},"Animals"),n.a.createElement("option",{value:"29"},"Comics"),n.a.createElement("option",{value:"11"},"Movies"),n.a.createElement("option",{value:"17"},"Science And Nature"))),0!==this.state.players.length?n.a.createElement("button",{className:"categoryName",onClick:function(t){e.props.getPlayerInformation(t,e.state.players)}},"It's Time For the Showdown!"):null))}}]),a}(r.Component),b=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.playerInformation;return e.sort((function(e,t){return t.score-e.score})),n.a.createElement("section",{className:"finalResults"},n.a.createElement("div",{className:"scoreBoard"},n.a.createElement("h2",null,"Results"),n.a.createElement("div",{className:"scoreList"},n.a.createElement("ul",null,e.map((function(e,t){var a=e.name,r=e.score;return n.a.createElement("li",{key:t},n.a.createElement("div",{className:"results"},n.a.createElement("h3",null,a),n.a.createElement("p",null,r)))})))),n.a.createElement("button",{className:"replay",onClick:this.props.handleReset},n.a.createElement(m.b,{to:"/"},"Quiz Your Friends Again!"))))}}]),a}(r.Component),S=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).startQuiz=function(){r.setState({start:!0}),r.myInterval=setInterval((function(){r.setState({timer:r.state.timer-1})}),1e3)},r.state={timer:30,start:!0},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){e.setState({timer:e.state.timer-1})}),1e3);this.setState({myInterval:t})}},{key:"componentDidUpdate",value:function(){0===this.state.timer&&(this.setState({timer:30,start:!1}),this.props.stopTime(),clearInterval(this.state.myInterval))}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,this.state.start?e.state.timer>=15?n.a.createElement("p",{className:"timer timerOk"},e.state.timer):e.state.timer>=10?n.a.createElement("p",{className:" timer timerWrapUp"},e.state.timer):n.a.createElement("p",{className:"timer timerDanger"},e.state.timer):"Time's Up!"))}}]),a}(r.Component),w=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleChange=function(t){e.props.numberOfPlayers(t.target.value)},e}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("main",null,n.a.createElement("form",null,n.a.createElement("fieldset",{className:"playerForm"},n.a.createElement("label",{className:"playerLabel",htmlFor:"playerForm"},"How many are playing?! "),n.a.createElement("select",{onChange:this.handleChange},n.a.createElement("option",{value:""},"Number of Friends!"),n.a.createElement("option",{value:"1"},"1"),n.a.createElement("option",{value:"2"},"2"),n.a.createElement("option",{value:"3"},"3"),n.a.createElement("option",{value:"4"},"4")))))}}]),a}(r.Component),N=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).getAvatars=function(){return["https://avatars.dicebear.com/api/bottts/example.svg?options[colors][]=blue","https://avatars.dicebear.com/api/bottts/example.svg?options[colors][]=red","https://avatars.dicebear.com/api/bottts/example.svg?options[colors][]=yellow","https://avatars.dicebear.com/api/bottts/example.svg?options[colors][]=purple"]},e.updateState=function(t,a){if(t.preventDefault(),0!==a){var r=e.createPlayers(a);e.setState({isShowingAvatars:!0,players:r})}},e.createPlayers=function(t){var a=e.getAvatars(),r=[];a=e.shuffleArray(a);for(var n=0;n<t;n++)r.push({id:(n+1).toString(),img:a[n],name:"",score:0,valid:!1});return r},e.shuffleArray=function(e,t){t=t||e.length;for(var a,r,n=e.length;0!==n;)r=Math.floor(Math.random()*n),a=e[n-=1],e[n]=e[r],e[r]=a;return e.slice(0,t)},e.handleChange=function(t){var a=t.target.id-1,r=t.target.value;e.setState((function(e){e.players[a].valid=r&&0!==r.length}))},e.handleFormSubmit=function(t){t.preventDefault();var a=e.validateForm(e.state.players);if(e.props.playerInformation(e.state.players,a),a)for(var r=function(a){var r=t.target[a].id-1,n=t.target[a].value;e.setState((function(e){e.players[r].name=n}))},n=0;n<t.target.length-1;n++)r(n);else alert("Slow your roll! Enter some names first!")},e.validateForm=function(e){for(var t=0;t<e.length;t++)if(!e[t].valid)return!1;return!0},e.generatePlayers=function(){if(e.state.isShowingAvatars){var t=e.state.players;return n.a.createElement("div",{className:"playerSetupContainer"},t.map((function(t){return n.a.createElement("div",{key:t.id,className:"playerInfoInput"},n.a.createElement("img",{src:t.img,alt:""}),n.a.createElement("input",{onChange:e.handleChange,id:t.id}))})))}return n.a.createElement(n.a.Fragment,null)},e.state={players:[],isShowingAvatars:!1},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){document.querySelector(".avatarSection").scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"avatarSection"},n.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"numberOfPlayersSubmit"},this.generatePlayers(),this.state.isShowingAvatars?n.a.createElement("button",{type:"submit"},"Let's Battle!"):n.a.createElement("button",{type:"button",onClick:function(t){return e.updateState(t,e.props.numberOfPlayers)}},"Double Check You Have Enough Friends!")))}}]),a}(r.Component),O=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.setState({players:e.props.players}),document.querySelector(".gameScreen").scrollIntoView({behavior:"smooth"})},e.handleNextPlayer=function(){e.setState({cleanTheScreen:!0,currentPlayer:e.state.currentPlayer+1,answeredQuestionTracker:[!1,!1,!1]});var t=[document.querySelector(".answer1"),document.querySelector(".answer2"),document.querySelector(".answer3")];console.log(t),t.forEach((function(e){e.classList.toggle("parentHide")})),document.querySelector(".questionDiv").classList.toggle("questionDivHide")},e.onAnswerClicked=function(t,a,r,n){var o=t.target.parentNode;if(!e.state.answeredQuestionTracker[n]){var s=e.props.players[e.state.currentPlayer];if(r===a.correct_answer){s.score++;var l=e.state.answeredQuestionTracker;l[n]=!0,e.setState({answeredQuestionTracker:l})}}o.classList.toggle("parentHide")},e.timerFunction=function(){document.querySelector(".questionDiv").classList.toggle("questionDivHide")},e.showQuestions=function(){if(e.props.players&&e.props.players[0].questions){if(e.state.cleanTheScreen)return e.setState({cleanTheScreen:!1}),n.a.createElement(n.a.Fragment,null);var t=e.props.players[e.state.currentPlayer];return t?n.a.createElement("section",{className:"gameScreen"},n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{className:"questionDiv"},n.a.createElement("div",{className:"turnDetails"},n.a.createElement("p",{className:"playerName"},"Player Up to Bat: ",t.name),n.a.createElement("div",{className:"timerBackground"},n.a.createElement(S,{stopTime:e.timerFunction}))),n.a.createElement("div",{className:"questionContainer"},t.questions.map((function(t,a){return n.a.createElement("div",{className:"questions"},n.a.createElement("p",{className:"questionText",key:a},"Question ".concat(a+1," : ").concat(t.question)),n.a.createElement("div",{className:"answer".concat(a+1)},t.allAnswers.map((function(r){return n.a.createElement("button",{key:a,onClick:function(n){return e.onAnswerClicked(n,t,r,a)}},r)}))))})))),n.a.createElement("div",{className:"nextButton"},n.a.createElement("button",{className:"nextPlayer",onClick:e.handleNextPlayer},"Continue")))):n.a.createElement(b,{playerInformation:e.props.players,handleReset:e.props.reset})}return console.log("Pick your categories"),n.a.createElement(n.a.Fragment,null)},e.state={cleanTheScreen:!1,currentPlayer:0,answeredQuestionTracker:[!1,!1,!1]},e}return Object(c.a)(a,[{key:"render",value:function(){return this.showQuestions()}}]),a}(r.Component),C=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).getNumberOfPlayers=function(t){e.setState({numberOfPlayers:t})},e.getPlayerInformation=function(t,a){e.setState({players:t,goToCategory:a})},e.state={players:[],numberOfPlayers:0,goToCategory:!1,goToPlay:!1},e}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(w,{numberOfPlayers:this.getNumberOfPlayers}),n.a.createElement(N,{numberOfPlayers:this.state.numberOfPlayers,playerInformation:this.getPlayerInformation}),!0===this.state.goToCategory?n.a.createElement(E,{playerInfo:this.state.players,getPlayerInformation:this.props.getCategory}):null)}}]),a}(r.Component),k=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).updatedPlayersInformation=function(t,a){t.preventDefault(),e.setState({players:a})},e.handleReset=function(t){t.preventDefault(),e.setState({questions:{},players:[],goToPlay:!1})},e.getCategory=function(t,a){t.preventDefault(),e.setState({players:a,goToPlay:!0})},e.state={questions:{},players:[],goToPlay:!1},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(m.a,{basename:"/trivia-time"},n.a.createElement("div",{className:"App"},n.a.createElement(d,null),this.state.goToPlay?n.a.createElement(p.a,{to:"/play"}):null,n.a.createElement(p.b,{exact:!0,path:"/"},n.a.createElement(C,{getCategory:this.getCategory})),n.a.createElement(p.b,{path:"/play",render:function(t){return n.a.createElement(O,{players:e.state.players,reset:e.handleReset})}}),n.a.createElement(p.b,{render:function(){return n.a.createElement(p.a,{to:{pathname:"/"}})}})))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.eb8b20cd.chunk.js.map